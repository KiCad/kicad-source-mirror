KiCad ChangeLog 2010
====================

Please add newer entries at the top, list the date and your name with
email address.

2010-mar-31, UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++Pcbnew
    Fixed an issue in GERBER file creation, under Vista and W7 only for non administrator users
    Plot files were 0 byte length.
    This was due to use of function tmpfile() in a GERBER function
    to create a temporary file that seems not working using mingw.
    Replaced by more usual files functions.

2010-mar-29, UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++Pcbnew
    enhancements in printing or plot in SVG format:
    When printing technical layers, pads on solder mask or solder paste layers
    where printed in sketch mode.
    Now they are printed as solid shapes, with dimensions according to
    solder paste or solder mask clearances.


2010-mar-18 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++Eeschema
    Some bugs fixed
    Starting enhancements in Libedit: menubar and commands to "plot"
    current component in PNG or SVF file (SVG file not fully working, must be refined)

2010-mar-13 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ All:
    Stable verion for kicad release

2010-mar-10 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++Pcbnew:
    Added (see dialog_layers_setup.cpp) compilation options to
    -hide non active copper layers
    -show inner layers in same order than the layer manager
    Currently these options are 2 define
    HIDE_INACTIVE_LAYERS
    // if defined, displays only active copper layers
    // if not displays always 1=the full set (16 layers)
    USE_LAYER_MANAGER_COPPER_LAYERS_ORDER
    //if defined, used the layer manager copper layers order
    //  (from FRONT to BACK) to display inner layers.
    //  if not, use the default order (from BACK to FRONT)

    Currently not active, can be changed if the correponding lines are uncommented in dialog_layers_setup.cpp

2010-Mar-3 UPDATE Dick Hollenbeck <dick@softplc.com>
================================================================================
++common
  * DSNLEXER now owns an abstract LINE_READER by pointer so that polymorphism
    can be used in alternative LINE_READERS.
  * Write FILE_LINE_READER and STRING_LINE_READER.  The latter can be used
    to parse text coming from the clipboard or other string source.


2010-Feb-20 UPDATE Dick Hollenbeck <dick@softplc.com>
================================================================================
++common
    DSNLEXER now supports:
    1)  nested quotes.  This is in anticipation of broader usage of the
        file type/syntax.  A string like this in the file:
            "my ""favorate"" string"
        can be returned as
            my "favorite" string
    2)  CommentsAsTokens is implemented, so you can ask the lexer to return
        comments as tokens, so they can be preserved.  The default is to ignore
        them.  A comment is defined as any line that has # as its first
        non-blank character.  (This means comments cannot follow anything else
        on a line.)


2010-Feb-19 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
kicad: fixing an annoying problem:
    * Building the tree project can be *very* long if there are a lot of subdirectories
    * in the working directory.
    * Unfornately, this happens easily if the project file *.pro is in the home directory
    * So the tree project is built "on demand":
    * First the tree is built from the current directory and shows files and subdirs.
    *   > First level subdirs trees are built (i.e subdirs contents are not read)
    *   > When expanding a subdir, each subdir content is read,
    *     and the corresponding sub tree is populated on the fly.


2010-Feb-17 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
kicad:
    * Building the tree project can be *very* long if there are a lot of
    * subdirectories in the working directory.
    * Unfornately, this happens easily if the project file *.pro
    * is in the home directory
    * when subdirs are not loaded, double click on a directory to load its files and subdirs
    * #define ADD_FILES_IN_SUBDIRS was used until now.
    * It is now commented, so one must double click on a subdir name to load its files
    * See treeprj_frme.cpp for more info

2010-Feb-17 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
Eeschema, libedit: fixed last problems when editing alias info.
    Now alias changes can be undone, and are correctly updated in lib
    when updating the current edited component in memory
    New code could be a good starting point to store all aliases info in the
    root component,
    and also easily store it to the *.lib files and remove the .dcm associated files
    (most of code is done)


2010-Feb-14 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
Eeschema, libedit: fixed add/remove alias functions, broken
All: added in popup menus hotkeys info for zoom commands


2010-Feb-14 UPDATE Jerry Jacobs <xor.gate.engineering[at]gmail[dot]com>
================================================================================
++ KiCad
   Check if project is noname.pro so we don't get a error if kicad is first run.
   Removed double separator in file menu.
   Moved recent project to submenu in Open recent.

++ Common
   Added CTest/CDash support file
   Moved helper tool to helper subdirectory

++ OSX
   Update compiling doc

2010-Feb-07 UPDATE Vesa Solonen <vesa.solonen@hut.fi>
================================================================================
++ all:
    Finnish translation, take one.

2010-Feb-04 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ gerbview:
    Use layer_widget to manage gerber layers colors and visibility.

2010-Jan-31 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ pcbnew:
    More about work on color selection and items visibility:
    removed global variables and a lot of redundancies
    Now Modedit does not uses the visiblity options of the board editor
    (That can create a problem if hide modules is activated)
    work in progress but almost finished


2010-Jan-30 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ pcbnew:
    More about work on color selection and items visibility
    work in progress

2010-Jan-29 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
 ++ All:
    added a test to solve a problem when cross compiling Kicad under Linux for Windows
    Specific to countries that use a comma as separators in floating point numbers notation:
    Depending on wxWideget version:
        printed as 0,5 and read as 0.5
        or
        printed as 0.5 and read as 0,5
    So float values are always broken in dialogs (many are seen as 0)
    Now a test is made, and if there are problems relative to floats
    (write/read conversion error),
    use the C convention (always a point as separator)

 ++ eeschema:
    Removed metrics grid values, that cannot be handled in schematic.
    (because 2 items are seen as connected if they have the same coordinates
    mixing mm and mils with internal units = 1 mil break netlist
    and ERC calculations
    So grid value *must* be an integer (in 1/1000 inch).
    And metric grid is not very useful in schematic.
    (Also 1 mil and 0.025 mm can be seen as the same value for a schematic that do not
    needs precision in dimensions, so no need to have mils and mm in grid values)

++ pcbnew:
    Starting work on color selection and items visibility
    * code cleaning and removing global values.
    * Separe visibility options for board editor and module editor
    (work in progress, just starting)


2010-Jan-28 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
 *fixed eeschema crash when using the hotkey m (move) command.
* Pcbnew :added option to show/hide footprints values and/or references
  See if show/hide footprints texts option is now always useful.

2010-Jan-27 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ Pcbnew:
    Code cleaning about visibility variables (duplicates) in draw functions.
    Removed old color and visiblity dialog
    work in progress

2010-Jan-24 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ Pcbnew:
    in variable names, change non existent word Hight to High
    Remove redundant tool in left toolbar (option toolbar)
    (this option is now in layers manager)
    Show layers in horizontal combo box in same order as in layer manager.

++all:
    minor code cleaning.

2010-Jan-23 UPDATE Dick Hollenbeck <dick@softplc.com>
================================================================================
++pcbnew's PCB_LAYER_WIDGET
    Removed wxformbuilder dependency from LAYER_WIDGET, thus killing off
    layer_widget_base.* and panel_layer_select.fbp.
    Added aPointSize to LAYER_WIDGET constructor so it uses that font size.
    Removed layer_widget.h from wxPcbStruct.h for faster compiles with less
    dependencies, and this meant moving the class LYRS out of
    class WinEDA_PcbFrame.  While doing that I renamed it to PCB_LAYER_WIDGET.
    Integration of PCB_LAYER_WIDGET into WinEDA_PcbFrame to fully support
    the layer change logic. Added syncLayerWidget(),
  * WinEDA_PcbFrame:
    Added syncLayerWidget(), syncLayerBox() (via a rename), setActiveLayer(),
    and getActiveLayer().
    Use a font size in PCB_LAYER_WIDGET 80% of the system font size for systems
    with screen resolution height <= 900, or 100% if not.  See WinEDA_PcbFrame
    constructor.
  * See TODO.txt for more things that need to be done.


2010-Jan-23 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++ Pcbnew:
    Update Layer manager display when changing active layer (from hotkey or menus)
    fixed minor problems and fixed Layer Alignment Target bug.

2010-Jan-22 UPDATE Wayne Stambaugh <stambaughw@verizon.net>
================================================================================
Minor fixes and code cleaning.

* Remove redundant background redrawing RedrawActiveWindow.
* Remove redundant managed cursor callback in RedrawActiveWindow.
* Use refresh to redraw instead of directly calling RedrawActiveWindow.
* Remove unused SetDrawBgColor for drawframe.cpp.
* Fix compiler warning in cvpcb/cvframe.cpp.
* Fix menu spelling and syntax errors in pcbnew.
* Rename Trace_Curseur to DrawCursor in common/drawpanel.cpp.

2010-Jan-21 UPDATE Dick Hollenbeck <dick@softplc.com>
================================================================================
++pcbnew
    Integration of LAYER_WIDGET into WinEDA_PcbFrame.  See
    TODO.txt for more things that need to be done.


2010-Jan-17 UPDATE Jerry Jacobs <xor.gate.engineering[at]gmail[dot]com>
================================================================================
More work to make kicad more Mac OS X compliant.
* Workaround for wxAboutDialog bug.
* WXMAC needs wxID_EXIT to make closing the application function properly.
* Workaround for hotkeys, on Mac OS X we can't use Fx keys.
  This needs to be further implemented and is a work in progress.
  We need to modify the hotkey code to display Mac OS X the
  special modifier keys in the hotkey list.


2010-Jan-18 UPDATE Dick Hollenbeck <dick@softplc.com>
================================================================================
++any
    Finished up complete implementation of class LAYER_WIDGET and am now ready to
    integrate it into PCBNEW.  This class was kept as general as possible by
    omitting as many Kicad document structures as possible, and so can be used
    in GERBVIEW.  For GERBVIEW it could benefit from some minor additional
    work such as a "move up" function for layer order changes.  This is a matter
    of rearranging wxWindows within the m_LayersFlexGridSizer.
    Integration into PCBNEW should be done in just a few days.


2010-Jan-17 UPDATE Jerry Jacobs <xor.gate.engineering[at]gmail[dot]com>
================================================================================
+ EESchema
 + Added Torsten Huter's patch for hotkeys
 + Moved recent opened documents to submenu

+ Pcbnew
 + Big (re)organisation of pcbframe menubar and cleanup

2010-Jan-13 UPDATE Wayne Stambaugh <stambaughw@verizon.net>
================================================================================
Minor bug fixes, compiler warning fixes and code cleaning.

* Fix debug asserts when passing NULL pointers to wxAuiPaneInfo.
* Fix Kicad main window sash sizer bug when using wxAui.
* Remove specctra_test from Visual Studio builds to prevent build errors.
* Add WIN32 to layer widget test so it will build properly on Visual Studio.
* Fixed compiler conversion warnings in PCBNew.
* Fixed worksheet print scaling in PCBNew.
* Minor code renaming.

2010-Jan-12 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++All
    Use wxAutoBufferedPaintDC in OnPaint event
    Seems solves slow grid redraw on some PC (tested under Window 7)
    and is faster than use wxPaintDC, not buffered
    (note MACOSX has natively a double buffer, so no change for MACOSX)

2010-Jan-08 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++Gerbview
    Added support of arcs in polygons outlines.
    Needed to show copper areas in some gerber files
    Not fully tested but works better than without this support...


2010-Jan-03 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++pcbnew
    - fixed a potential bug in a fill zone function: AddClearanceAreasPolygonsToPolysList()
    - Try to fix a problem with AddClearanceAreasPolygonsToPolysList() under Window Vista and Window 7
      This is perhaps a problem in kbool library
      (a bug in Bool_Engine destructor ?)
      It happens when:
      - a lot of polygon corners are added in group A
      - nothing in group B
      - No operation asked in kbool engine ( that also has a bug if an operation is asked
        with no polygon in group B)
      - and call the Bool_Engine destructor.
      Could be a stack error or overflow, very hard to locate and debug.
      - Under Vista seems create always a crash.
      - Under Window 7 sometimes create a crash.
      - No problem under XP and Linux.
    -Workaround:
      Leave the group A void if group B is void.
      I am not sure this change fix the problem.
      Just it solves this problem with 2 samples boards that crash Pcbnew without this change.

2010-Jan-01 UPDATE Jean-Pierre Charras <jean-pierre.charras@gipsa-lab.inpg.fr>
================================================================================
++pcbnew
    Rewrite plot dialog using wxDialogBlocks.
    Display layers list according to the Setup layers dialog order.
++Gerbview
    Write Gerbview plot dialog using wxDialogBlocks.
    Do not use anymore the Pcbnew one.

